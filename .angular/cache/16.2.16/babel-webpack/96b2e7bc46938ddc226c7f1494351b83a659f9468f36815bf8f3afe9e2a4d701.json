{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/angel/Documents/gotzon/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { FeedbackModalComponent } from '@app/components/feedback-modal/feedback-modal.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@ionic/angular\";\nimport * as i3 from \"@services/request.service\";\nimport * as i4 from \"@services/user.service\";\nconst _c0 = function () {\n  return [\"/home\"];\n};\nexport let LessonPage = /*#__PURE__*/(() => {\n  class LessonPage {\n    constructor(activatedRoute, router, modalController, loadingController, requestService, userService) {\n      this.activatedRoute = activatedRoute;\n      this.router = router;\n      this.modalController = modalController;\n      this.loadingController = loadingController;\n      this.requestService = requestService;\n      this.userService = userService;\n      this.lesson = '';\n    }\n    ngAfterViewInit() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        const loader = yield _this.loadingController.create({\n          message: 'Cargando...'\n        });\n        loader.present();\n        _this.activatedRoute.params.subscribe(params => {\n          let {\n            id\n          } = params;\n          id = id.split('?')[0];\n          _this.id = id;\n          _this.requestService.getLesson(id).subscribe(data => {\n            _this.lesson = data;\n            loader.dismiss();\n            _this.userService.setLessonCompleted(Number(id));\n          }, err => {\n            loader.dismiss();\n            _this.router.navigate(['/home'], {\n              skipLocationChange: true\n            });\n          });\n        });\n      })();\n    }\n    openModal() {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        const modal = yield _this2.modalController.create({\n          component: FeedbackModalComponent,\n          componentProps: {\n            leccion: _this2.id\n          }\n        });\n        yield modal.present();\n      })();\n    }\n    static #_ = this.ɵfac = function LessonPage_Factory(t) {\n      return new (t || LessonPage)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ModalController), i0.ɵɵdirectiveInject(i2.LoadingController), i0.ɵɵdirectiveInject(i3.RequestService), i0.ɵɵdirectiveInject(i4.UserService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: LessonPage,\n      selectors: [[\"app-lesson\"]],\n      decls: 7,\n      vars: 4,\n      consts: [[3, \"fullscreen\"], [1, \"page-container\", 3, \"innerHTML\"], [1, \"buttons-container\"], [\"expand\", \"block\", \"color\", \"warning\", 3, \"click\"], [\"expand\", \"block\", \"routerDirection\", \"root\", \"skipLocationChange\", \"\", 3, \"routerLink\"]],\n      template: function LessonPage_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"ion-content\", 0);\n          i0.ɵɵelement(1, \"div\", 1);\n          i0.ɵɵelementStart(2, \"div\", 2)(3, \"ion-button\", 3);\n          i0.ɵɵlistener(\"click\", function LessonPage_Template_ion_button_click_3_listener() {\n            return ctx.openModal();\n          });\n          i0.ɵɵtext(4, \"Reportar un error\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"ion-button\", 4);\n          i0.ɵɵtext(6, \"Completar la lecci\\u00F3n (Osatu ikasgaia)\");\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"fullscreen\", true);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"innerHTML\", ctx.lesson, i0.ɵɵsanitizeHtml);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(3, _c0));\n        }\n      },\n      dependencies: [i1.RouterLink, i2.IonButton, i2.IonContent, i2.RouterLinkDelegate],\n      styles: [\".page-container[_ngcontent-%COMP%]{padding:50px 20px 0}.buttons-container[_ngcontent-%COMP%]{padding:20px}.buttons-container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:16px 0}  blockquote{background-color:var(--ion-color-primary-shade);text-align:center;padding:20px;border-radius:15px;font-weight:700;position:relative}  .quote:after{content:\\\"\\\";position:relative;left:calc(100vw - 280px);background-image:url(https://raw.githubusercontent.com/litospayaso/gotzon/master/src/img/assets/B1.svg);background-size:225px 275px;display:inline-block;width:225px;height:275px;transform:scaleX(-1)}  .quote blockquote:before{content:\\\"\\\";position:absolute;bottom:-18px;right:120px;width:0;border-left:18px solid transparent;border-right:0px solid transparent;border-top:22px solid var(--ion-color-primary-shade)}  .two-colums{display:flex;flex-direction:row}@media (max-width: 450px){  .two-colums{flex-direction:column}}  table{margin-right:auto;margin-left:auto;border-collapse:separate!important;margin-bottom:18px}  table th:first-child{border-top-left-radius:16px}  table th:last-child{border-top-right-radius:16px}  table th{background-color:var(--ion-color-primary)!important;font-weight:700;padding:10px 12px;color:#fff}  table td:first-child{border-left:2px solid #e5e5e5}  table td{border-bottom:2px solid #e5e5e5;border-right:2px solid #e5e5e5;padding:10px 12px}  table tr:last-child td:first-child{border-radius:0 0 0 16px}  table tr:last-child td:last-child{border-radius:0 0 16px}\"]\n    });\n  }\n  return LessonPage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}